#!/usr/bin/env bash

# change to the project root
DIR="$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)"
cd "$DIR"/.. || exit

echo "Setting up environment..."
go mod download
curl -sSfL https://raw.githubusercontent.com/golangci/golangci-lint/master/install.sh | sh -s -- -b $(go env GOPATH)/bin v1.26.0
go get -u golang.org/x/lint/golint
go get -u github.com/cosmtrek/air@v1.12.1
go get -u github.com/pressly/goose/cmd/goose@v2.6.0
echo "Cleaning up mod file dependencies..."
go mod tidy
echo "Setup Complete!"